# Scope: planet
has_industrial_deposits = {
    OR = {
        has_deposit = "d_sr_mithril_deposit"
        has_deposit = "d_sr_orihalk_deposit"
        has_deposit = "d_sr_adamantium_deposit"
        has_deposit = "d_sr_vibranium_deposit"
        has_deposit = "d_sr_itildeen_deposit"
        has_deposit = "d_sr_thiotimoline_deposit"
        has_deposit = "d_sr_unobtanium_deposit"
        has_deposit = "d_sr_stalgrim_deposit"
        has_deposit = "d_sr_terrigen_deposit"
        has_deposit = "d_sr_kryptonite_deposit"
        has_deposit = "d_crystallized_caves"
        has_deposit = "d_crystallized_plains"
        has_deposit = "d_crystallized_mines"
        has_deposit = "d_crystallized_stratums"
        has_deposit = "d_crystallized_hills"
        has_deposit = "d_crystallized_matrixes"
        has_deposit = "d_extraterrestrial_monomorphic_deposits"
        has_deposit = "d_extraterrestrial_polymorphic_deposits"
        has_deposit = "d_extraterrestrial_isomorphic_deposits"
    }
}

# Scope: planet
has_manufacturing_deposits = {
    OR = {
        has_deposit = "d_sr_yuranic_deposit"
        has_deposit = "d_sr_cobaltium_deposit"
        has_deposit = "d_sr_satramene_deposit"
        has_deposit = "d_sr_lirium_deposit"
        has_deposit = "d_sr_nevarrit_deposit"
        has_deposit = "d_sr_tiberium_deposit"
        has_deposit = "d_sr_chalcolivan_deposit"
        has_deposit = "d_sr_corenite_deposit"
        has_deposit = "d_sr_engos_deposit"
        has_deposit = "d_sr_helium_deposit"
        has_deposit = "d_metallized_caves"
        has_deposit = "d_metallized_plains"
        has_deposit = "d_metallized_mines"
        has_deposit = "d_metallized_mountains"
        has_deposit = "d_metallized_oceans"
        has_deposit = "d_metallized_matrixes"
        has_deposit = "d_extraterrestrial_monomeric_deposits"
        has_deposit = "d_extraterrestrial_polymeric_deposits"
        has_deposit = "d_extraterrestrial_isomeric_deposits"
    }
}

# Scope: planet
has_scientific_deposits = {
    OR = {
        has_deposit = "d_sr_elerium_deposit"
        has_deposit = "d_sr_gravitoid_deposit"
        has_deposit = "d_sr_tylium_deposit"
        has_deposit = "d_sr_energon_deposit"
        has_deposit = "d_plasmatic_cobblestones"
        has_deposit = "d_spice_lakes"
        has_deposit = "d_floating_gardens"
        has_deposit = "d_floating_islands"
        has_deposit = "d_relic_ice"
        has_deposit = "d_soil_funnels"
        has_deposit = "d_ancient_pillars"
        has_deposit = "d_extraterrestrial_vagrant_biome"
        has_deposit = "d_extraterrestrial_foggy_biome"
        has_deposit = "d_extraterrestrial_pungent_biome"
        has_deposit = "d_extraterrestrial_tremendous_biome"
    }
}

# Scope: planet
has_mithril_deposit = {
    OR = {
        has_deposit = "d_sr_mithril_deposit"
    }
}

# Scope: planet
has_mithril_resource = {
    OR = {
        has_mithril_deposit = yes
        has_deposit = "d_mithril_1"
        has_deposit = "d_mithril_2"
        has_deposit = "d_mithril_3"
        has_deposit = "d_mithril_4"
        has_deposit = "d_mithril_5"
        has_resource = {
            type = mithril
            amount > 0
        }
    }
}

# Scope: planet
has_orihalk_deposit = {
    OR = {
        has_deposit = "d_sr_orihalk_deposit"
    }
}

# Scope: planet
has_orihalk_resource = {
    OR = {
        has_orihalk_deposit = yes
        has_deposit = "d_orihalk_1"
        has_deposit = "d_orihalk_2"
        has_deposit = "d_orihalk_3"
        has_deposit = "d_orihalk_4"
        has_deposit = "d_orihalk_5"
        has_resource = {
            type = orihalk
            amount > 0
        }
    }
}

# Scope: planet
has_yuranic_deposit = {
    OR = {
        has_deposit = "d_sr_yuranic_deposit"
    }
}

# Scope: planet
has_yuranic_resource = {
    OR = {
        has_yuranic_deposit = yes
        has_deposit = "d_yuranic_1"
        has_deposit = "d_yuranic_2"
        has_deposit = "d_yuranic_3"
        has_deposit = "d_yuranic_4"
        has_deposit = "d_yuranic_5"
        has_resource = {
            type = yuranic
            amount > 0
        }
    }
}

# Scope: planet
has_adamantium_deposit = {
    OR = {
        has_deposit = "d_sr_adamantium_deposit"
    }
}

# Scope: planet
has_adamantium_resource = {
    OR = {
        has_adamantium_deposit = yes
        has_deposit = "d_adamantium_1"
        has_deposit = "d_adamantium_2"
        has_deposit = "d_adamantium_3"
        has_deposit = "d_adamantium_4"
        has_deposit = "d_adamantium_5"
        has_resource = {
            type = adamantium
            amount > 0
        }
    }
}

# Scope: planet
has_vibranium_deposit = {
    OR = {
        has_deposit = "d_sr_vibranium_deposit"
    }
}

# Scope: planet
has_vibranium_resource = {
    OR = {
        has_vibranium_deposit = yes
        has_deposit = "d_vibranium_1"
        has_deposit = "d_vibranium_2"
        has_deposit = "d_vibranium_3"
        has_deposit = "d_vibranium_4"
        has_deposit = "d_vibranium_5"
        has_resource = {
            type = vibranium
            amount > 0
        }
    }
}

# Scope: planet
has_cobaltium_deposit = {
    OR = {
        has_deposit = "d_sr_cobaltium_deposit"
    }
}

# Scope: planet
has_cobaltium_resource = {
    OR = {
        has_cobaltium_deposit = yes
        has_deposit = "d_cobaltium_1"
        has_deposit = "d_cobaltium_2"
        has_deposit = "d_cobaltium_3"
        has_deposit = "d_cobaltium_4"
        has_deposit = "d_cobaltium_5"
        has_resource = {
            type = cobaltium
            amount > 0
        }
    }
}

# Scope: planet
has_itildeen_deposit = {
    OR = {
        has_deposit = "d_sr_itildeen_deposit"
    }
}

# Scope: planet
has_itildeen_resource = {
    OR = {
        has_itildeen_deposit = yes
        has_deposit = "d_itildeen_1"
        has_deposit = "d_itildeen_2"
        has_deposit = "d_itildeen_3"
        has_deposit = "d_itildeen_4"
        has_deposit = "d_itildeen_5"
        has_resource = {
            type = itildeen
            amount > 0
        }
    }
}

# Scope: planet
has_satramene_deposit = {
    OR = {
        has_deposit = "d_sr_satramene_deposit"
    }
}

# Scope: planet
has_satramene_resource = {
    OR = {
        has_satramene_deposit = yes
        has_deposit = "d_satramene_1"
        has_deposit = "d_satramene_2"
        has_deposit = "d_satramene_3"
        has_deposit = "d_satramene_4"
        has_deposit = "d_satramene_5"
        has_resource = {
            type = satramene
            amount > 0
        }
    }
}

# Scope: planet
has_lirium_deposit = {
    OR = {
        has_deposit = "d_sr_lirium_deposit"
    }
}

# Scope: planet
has_lirium_resource = {
    OR = {
        has_lirium_deposit = yes
        has_deposit = "d_lirium_1"
        has_deposit = "d_lirium_2"
        has_deposit = "d_lirium_3"
        has_deposit = "d_lirium_4"
        has_deposit = "d_lirium_5"
        has_resource = {
            type = lirium
            amount > 0
        }
    }
}

# Scope: planet
has_nevarrit_deposit = {
    OR = {
        has_deposit = "d_sr_nevarrit_deposit"
    }
}

# Scope: planet
has_nevarrit_resource = {
    OR = {
        has_nevarrit_deposit = yes
        has_deposit = "d_nevarrit_1"
        has_deposit = "d_nevarrit_2"
        has_deposit = "d_nevarrit_3"
        has_deposit = "d_nevarrit_4"
        has_deposit = "d_nevarrit_5"
        has_resource = {
            type = nevarrit
            amount > 0
        }
    }
}

# Scope: planet
has_thiotimoline_deposit = {
    OR = {
        has_deposit = "d_sr_thiotimoline_deposit"
    }
}

# Scope: planet
has_thiotimoline_resource = {
    OR = {
        has_thiotimoline_deposit = yes
        has_deposit = "d_thiotimoline_1"
        has_deposit = "d_thiotimoline_2"
        has_deposit = "d_thiotimoline_3"
        has_deposit = "d_thiotimoline_4"
        has_deposit = "d_thiotimoline_5"
        has_resource = {
            type = thiotimoline
            amount > 0
        }
    }
}

# Scope: planet
has_unobtanium_deposit = {
    OR = {
        has_deposit = "d_sr_unobtanium_deposit"
    }
}

# Scope: planet
has_unobtanium_resource = {
    OR = {
        has_unobtanium_deposit = yes
        has_deposit = "d_unobtanium_1"
        has_deposit = "d_unobtanium_2"
        has_deposit = "d_unobtanium_3"
        has_deposit = "d_unobtanium_4"
        has_deposit = "d_unobtanium_5"
        has_resource = {
            type = unobtanium
            amount > 0
        }
    }
}

# Scope: planet
has_stalgrim_deposit = {
    OR = {
        has_deposit = "d_sr_stalgrim_deposit"
    }
}

# Scope: planet
has_stalgrim_resource = {
    OR = {
        has_stalgrim_deposit = yes
        has_deposit = "d_stalgrim_1"
        has_deposit = "d_stalgrim_2"
        has_deposit = "d_stalgrim_3"
        has_deposit = "d_stalgrim_4"
        has_deposit = "d_stalgrim_5"
        has_resource = {
            type = stalgrim
            amount > 0
        }
    }
}

# Scope: planet
has_tiberium_deposit = {
    OR = {
        has_deposit = "d_sr_tiberium_deposit"
    }
}

# Scope: planet
has_tiberium_resource = {
    OR = {
        has_tiberium_deposit = yes
        has_deposit = "d_tiberium_1"
        has_deposit = "d_tiberium_2"
        has_deposit = "d_tiberium_3"
        has_deposit = "d_tiberium_4"
        has_deposit = "d_tiberium_5"
        has_resource = {
            type = tiberium
            amount > 0
        }
    }
}

# Scope: planet
has_elerium_deposit = {
    OR = {
        has_deposit = "d_sr_elerium_deposit"
    }
}

# Scope: planet
has_elerium_resource = {
    OR = {
        has_elerium_deposit = yes
        has_deposit = "d_elerium_1"
        has_deposit = "d_elerium_2"
        has_deposit = "d_elerium_3"
        has_deposit = "d_elerium_4"
        has_deposit = "d_elerium_5"
        has_resource = {
            type = elerium
            amount > 0
        }
    }
}

# Scope: planet
has_gravitoid_deposit = {
    OR = {
        has_deposit = "d_sr_gravitoid_deposit"
    }
}

# Scope: planet
has_gravitoid_resource = {
    OR = {
        has_gravitoid_deposit = yes
        has_deposit = "d_gravitoid_1"
        has_deposit = "d_gravitoid_2"
        has_deposit = "d_gravitoid_3"
        has_deposit = "d_gravitoid_4"
        has_deposit = "d_gravitoid_5"
        has_resource = {
            type = gravitoid
            amount > 0
        }
    }
}

# Scope: planet
has_tylium_deposit = {
    OR = {
        has_deposit = "d_sr_tylium_deposit"
    }
}

# Scope: planet
has_tylium_resource = {
    OR = {
        has_tylium_deposit = yes
        has_deposit = "d_tylium_1"
        has_deposit = "d_tylium_2"
        has_deposit = "d_tylium_3"
        has_deposit = "d_tylium_4"
        has_deposit = "d_tylium_5"
        has_resource = {
            type = tylium
            amount > 0
        }
    }
}

# Scope: planet
has_chalcolivan_deposit = {
    OR = {
        has_deposit = "d_sr_chalcolivan_deposit"
    }
}

# Scope: planet
has_chalcolivan_resource = {
    OR = {
        has_chalcolivan_deposit = yes
        has_deposit = "d_chalcolivan_1"
        has_deposit = "d_chalcolivan_2"
        has_deposit = "d_chalcolivan_3"
        has_deposit = "d_chalcolivan_4"
        has_deposit = "d_chalcolivan_5"
        has_resource = {
            type = chalcolivan
            amount > 0
        }
    }
}

# Scope: planet
has_terrigen_deposit = {
    OR = {
        has_deposit = "d_sr_terrigen_deposit"
    }
}

# Scope: planet
has_terrigen_resource = {
    OR = {
        has_terrigen_deposit = yes
        has_deposit = "d_terrigen_1"
        has_deposit = "d_terrigen_2"
        has_deposit = "d_terrigen_3"
        has_deposit = "d_terrigen_4"
        has_deposit = "d_terrigen_5"
        has_resource = {
            type = terrigen
            amount > 0
        }
    }
}

# Scope: planet
has_corenite_deposit = {
    OR = {
        has_deposit = "d_sr_corenite_deposit"
    }
}

# Scope: planet
has_corenite_resource = {
    OR = {
        has_corenite_deposit = yes
        has_deposit = "d_corenite_1"
        has_deposit = "d_corenite_2"
        has_deposit = "d_corenite_3"
        has_deposit = "d_corenite_4"
        has_deposit = "d_corenite_5"
        has_resource = {
            type = corenite
            amount > 0
        }
    }
}

# Scope: planet
has_energon_deposit = {
    OR = {
        has_deposit = "d_sr_energon_deposit"
    }
}

# Scope: planet
has_energon_resource = {
    OR = {
        has_energon_deposit = yes
        has_deposit = "d_energon_1"
        has_deposit = "d_energon_2"
        has_deposit = "d_energon_3"
        has_deposit = "d_energon_4"
        has_deposit = "d_energon_5"
        has_resource = {
            type = energon
            amount > 0
        }
    }
}

# Scope: planet
has_engos_deposit = {
    OR = {
        has_deposit = "d_sr_engos_deposit"
    }
}

# Scope: planet
has_engos_resource = {
    OR = {
        has_engos_deposit = yes
        has_deposit = "d_engos_1"
        has_deposit = "d_engos_2"
        has_deposit = "d_engos_3"
        has_deposit = "d_engos_4"
        has_deposit = "d_engos_5"
        has_resource = {
            type = engos
            amount > 0
        }
    }
}

# Scope: planet
has_helium_deposit = {
    OR = {
        has_deposit = "d_sr_helium_deposit"
    }
}

# Scope: planet
has_helium_resource = {
    OR = {
        has_helium_deposit = yes
        has_deposit = "d_helium_1"
        has_deposit = "d_helium_2"
        has_deposit = "d_helium_3"
        has_deposit = "d_helium_4"
        has_deposit = "d_helium_5"
        has_resource = {
            type = helium
            amount > 0
        }
    }
}

# Scope: planet
has_kryptonite_deposit = {
    OR = {
        has_deposit = "d_sr_kryptonite_deposit"
    }
}

# Scope: planet
has_kryptonite_resource = {
    OR = {
        has_kryptonite_deposit = yes
        has_deposit = "d_kryptonite_1"
        has_deposit = "d_kryptonite_2"
        has_deposit = "d_kryptonite_3"
        has_deposit = "d_kryptonite_4"
        has_deposit = "d_kryptonite_5"
        has_resource = {
            type = kryptonite
            amount > 0
        }
    }
}

# Scope: planet
is_extraterrestrial_planet = {
    OR = {
        is_planet_class = "pc_crystalline"
        is_planet_class = "pc_metalline"
        is_planet_class = "pc_methanum"
        is_planet_class = "pc_carbonium"
        is_planet_class = "pc_nitrogenium"
        is_planet_class = "pc_sulphureum"
        is_planet_class = "pc_argonium"
        is_planet_class = "pc_phosphorium"
        is_planet_class = "pc_ammonium"
        is_planet_class = "pc_mercurium"
        is_planet_class = "pc_barium"
        is_planet_class = "pc_chlorum"
    }
}

# Scope: planet
is_outerworlds_planet = {
    OR = {
        is_planet_class = "pc_greenlush"
        is_planet_class = "pc_exogarden"
        is_planet_class = "pc_xenovalley"
        is_planet_class = "pc_floating"
        is_planet_class = "pc_mangrove"
        is_planet_class = "pc_bioforge"
        is_planet_class = "pc_biolumen"
        is_planet_class = "pc_boreal"
        is_planet_class = "pc_irassia"
        is_planet_class = "pc_sandsea"
        is_planet_class = "pc_oasis"
        is_planet_class = "pc_geoprairie"
        is_planet_class = "pc_desertislands"
        is_planet_class = "pc_hadesert"
        is_planet_class = "pc_frozen_desert"
        is_planet_class = "pc_steppe"
        is_planet_class = "pc_tidallylocked"
        is_planet_class = "pc_geothermal"
        is_planet_class = "pc_subarctic"
        is_planet_class = "pc_glacial"
        is_planet_class = "pc_antarctic"
    }
}

# Scope: planet
is_sovereign_colony = {
    NOR = {
        has_modifier = "resort_colony"
        has_modifier = "slave_colony"
    }
}

# Scope: planet
is_colonizeable_planet = {
    OR = {
        habitable_planet = yes
        is_extraterrestrial_planet = yes
        is_planet_class = "pc_city"
        is_planet_class = "pc_nuked"
        is_planet_class = "pc_hive"
        is_planet_class = "pc_machine"
    }
}

# Scope: planet
can_have_extraterrestrial_deposits = {
    is_extraterrestrial_planet = yes
}

# Scope: planet
have_not_habitable_deposits = {
    OR = {
        habitable_structure = yes
        is_planet_class = "pc_city"
        is_planet_class = "pc_hive"
        is_planet_class = "pc_machine"
    }
}

# Scope: pop
is_pop_purged = {
    OR = {
        is_pop_category = purge
        is_being_purged = yes
        has_pop_flag = "event_purge"
    }
}

# Scope: planet
has_major_populous_capital = {
    has_major_upgraded_capital = yes
    num_pops >= 60
}

# Scope: planet
has_fully_upgraded_populous_capital = {
    has_fully_upgraded_capital = yes
    num_pops >= 100
}

# Scope: pop
is_intelligencer = {
    has_job = "intelligencer"
}

# Scope: pop
is_intelligencer_not_ranked = {
    NOR = {
        pop_has_trait = "trait_intelligencer_neophyte"
        pop_has_trait = "trait_intelligencer_acolyte"
        pop_has_trait = "trait_intelligencer_adept"
        pop_has_trait = "trait_intelligencer_master"
        pop_has_trait = "trait_intelligencer_prophet"
    }
}

# Scope: pop
is_intelligencer_top_ranked = {
    pop_has_trait = "trait_intelligencer_prophet"
}

# Scope: pop
is_intelligencer_has_rank_1 = {
    pop_has_trait = "trait_intelligencer_neophyte"
}

# Scope: pop
is_intelligencer_has_rank_2 = {
    pop_has_trait = "trait_intelligencer_acolyte"
}

# Scope: pop
is_intelligencer_has_rank_3 = {
    pop_has_trait = "trait_intelligencer_adept"
}

# Scope: pop
is_intelligencer_has_rank_4 = {
    pop_has_trait = "trait_intelligencer_master"
}

# Scope: pop
is_intelligencer_has_rank_5 = {
    pop_has_trait = "trait_intelligencer_prophet"
}

# Scope: pop
is_disengaged_intelligencer = {
    is_intelligencer = yes
    NOR = {
        has_pop_flag = "espionage_purpose_steal_resources"
        has_pop_flag = "espionage_purpose_steal_technologies"
    }
}

# Scope: pop
is_unassignment_intelligencer = {
    is_intelligencer = yes
    NOT = {
        has_pop_flag = "intelligencer_on_assignment"
    }
}

# Scope: pop
is_intelligencer_has_purpose_steal_resources = {
    is_intelligencer = yes
    has_pop_flag = "espionage_purpose_steal_resources"
}

# Scope: pop
is_intelligencer_has_purpose_steal_technologies = {
    is_intelligencer = yes
    has_pop_flag = "espionage_purpose_steal_technologies"
}

# Scope: country
is_subject_of_espionage = {
    OR = {
        is_regular_country = yes
        is_fallen_empire = yes
    }
    NOT = {
        is_same_value = event_target:espionage_origin_country
    }
    has_established_contact = event_target:espionage_origin_country
    NOT = {
        has_country_flag = espionage_target_country@event_target:espionage_origin_country
    }
}

# Scope: country
has_espionage_ground = {
    is_subject_of_espionage = yes
    num_owned_planets > 0
}

is_possible_declare_espionage_war = {
    NOR = {
        event_target:espionage_origin_country = {
            OR = {
                is_subject_type = "vassal"
                is_subject_type = "protectorate"
                is_subject_type = "signatory"
            }
            overlord = {
                is_same_value = event_target:espionage_target_country
            }
        }
        event_target:espionage_target_country = {
            has_policy_flag = "no_wars"
            OR = {
                is_subject = no
                overlord = {
                    is_same_value = event_target:espionage_target_country
                }
            }
        }
        event_target:espionage_target_country = {
            is_at_war_with = event_target:espionage_origin_country
        }
    }
}

# Scope: country
is_regular_country = {
    # NOR = {
    #     is_country_type = "fallen_empire"
    #     is_country_type = "awakened_fallen_empire"
    #     is_country_type = "enclave"
    #     is_country_type = "nomad"
    #     is_country_type = "dormant_marauders"
    #     is_country_type = "awakened_marauders"
    #     is_country_type = "marauder_raiders"
    #     is_country_type = "ruined_marauders"
    #     is_country_type = "caravaneer_fleet"
    #     is_country_type = "caravaneer_home"
    #     is_country_type = "adversary"
    #     is_country_type = "swarm"
    #     is_country_type = "vol"
    #     is_country_type = "ratlings"
    #     is_country_type = "crystal"
    #     is_country_type = "drone"
    #     is_country_type = "amoeba"
    #     is_country_type = "cloud"
    #     is_country_type = "tiyanki"
    #     is_country_type = "pirate"
    #     is_country_type = "extradimensional"
    #     is_country_type = "extradimensional_2"
    #     is_country_type = "extradimensional_3"
    #     is_country_type = "gate_builders"
    #     is_country_type = "portal_holder"
    #     is_country_type = "gray"
    #     is_country_type = "gray_goo"
    #     is_country_type = "ai_empire"
    #     is_country_type = "cybrex_empire"
    #     is_country_type = "primitive"
    #     is_country_type = "neutral_faction"
    #     is_country_type = "rebel"
    #     is_country_type = "faction"
    #     is_country_type = "ldragon_country"
    #     is_country_type = "global_event"
    #     is_guardian_country = yes
    # }
    is_country_type = default
}

# Scope: planet
is_attacked_planet = {
    OR = {
        has_orbital_bombardment = yes
        has_ground_combat = yes
    }
}

# Scope: planet
is_captured_planet = {
    NOT = {
        is_controlled_by = owner
    }
}