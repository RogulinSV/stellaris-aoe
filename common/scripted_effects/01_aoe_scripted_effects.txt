# Scope: pop
wipe_pop_traits = {
    if = {
        limit = {
            pop_has_trait = "trait_agrarian"
        }
        modify_species = {
            species = this
            remove_trait = "trait_agrarian"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_ingenious"
        }
        modify_species = {
            species = this
            remove_trait = "trait_ingenious"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_industrious"
        }
        modify_species = {
            species = this
            remove_trait = "trait_industrious"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_intelligent"
        }
        modify_species = {
            species = this
            remove_trait = "trait_intelligent"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_thrifty"
        }
        modify_species = {
            species = this
            remove_trait = "trait_thrifty"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_natural_engineers"
        }
        modify_species = {
            species = this
            remove_trait = "trait_natural_engineers"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_natural_physicists"
        }
        modify_species = {
            species = this
            remove_trait = "trait_natural_physicists"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_natural_sociologists"
        }
        modify_species = {
            species = this
            remove_trait = "trait_natural_sociologists"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_extremely_adaptive"
        }
        modify_species = {
            species = this
            remove_trait = "trait_extremely_adaptive"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_adaptive"
        }
        modify_species = {
            species = this
            remove_trait = "trait_adaptive"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_nonadaptive"
        }
        modify_species = {
            species = this
            remove_trait = "trait_nonadaptive"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_rapid_breeders"
        }
        modify_species = {
            species = this
            remove_trait = "trait_rapid_breeders"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_slow_breeders"
        }
        modify_species = {
            species = this
            remove_trait = "trait_slow_breeders"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_talented"
        }
        modify_species = {
            species = this
            remove_trait = "trait_talented"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_quick_learners"
        }
        modify_species = {
            species = this
            remove_trait = "trait_quick_learners"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_slow_learners"
        }
        modify_species = {
            species = this
            remove_trait = "trait_slow_learners"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_traditional"
        }
        modify_species = {
            species = this
            remove_trait = "trait_traditional"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_quarrelsome"
        }
        modify_species = {
            species = this
            remove_trait = "trait_quarrelsome"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_very_strong"
        }
        modify_species = {
            species = this
            remove_trait = "trait_very_strong"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_strong"
        }
        modify_species = {
            species = this
            remove_trait = "trait_strong"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_weak"
        }
        modify_species = {
            species = this
            remove_trait = "trait_weak"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_nomadic"
        }
        modify_species = {
            species = this
            remove_trait = "trait_nomadic"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_sedentary"
        }
        modify_species = {
            species = this
            remove_trait = "trait_sedentary"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_communal"
        }
        modify_species = {
            species = this
            remove_trait = "trait_communal"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_solitary"
        }
        modify_species = {
            species = this
            remove_trait = "trait_solitary"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_charismatic"
        }
        modify_species = {
            species = this
            remove_trait = "trait_charismatic"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_repugnant"
        }
        modify_species = {
            species = this
            remove_trait = "trait_repugnant"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_uplifted"
        }
        modify_species = {
            species = this
            remove_trait = "trait_uplifted"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_conformists"
        }
        modify_species = {
            species = this
            remove_trait = "trait_conformists"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_deviants"
        }
        modify_species = {
            species = this
            remove_trait = "trait_deviants"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_venerable"
        }
        modify_species = {
            species = this
            remove_trait = "trait_venerable"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_enduring"
        }
        modify_species = {
            species = this
            remove_trait = "trait_enduring"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_fleeting"
        }
        modify_species = {
            species = this
            remove_trait = "trait_fleeting"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_decadent"
        }
        modify_species = {
            species = this
            remove_trait = "trait_decadent"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_resilient"
        }
        modify_species = {
            species = this
            remove_trait = "trait_resilient"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_conservational"
        }
        modify_species = {
            species = this
            remove_trait = "trait_conservational"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_wasteful"
        }
        modify_species = {
            species = this
            remove_trait = "trait_wasteful"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_cybernetic"
        }
        modify_species = {
            species = this
            remove_trait = "trait_cybernetic"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_latent_psionic"
        }
        modify_species = {
            species = this
            remove_trait = "trait_latent_psionic"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_psionic"
        }
        modify_species = {
            species = this
            remove_trait = "trait_psionic"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_self_modified"
        }
        modify_species = {
            species = this
            remove_trait = "trait_self_modified"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_delicious"
        }
        modify_species = {
            species = this
            remove_trait = "trait_delicious"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_nerve_stapled"
        }
        modify_species = {
            species = this
            remove_trait = "trait_nerve_stapled"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_fertile"
        }
        modify_species = {
            species = this
            remove_trait = "trait_fertile"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_robust"
        }
        modify_species = {
            species = this
            remove_trait = "trait_robust"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_erudite"
        }
        modify_species = {
            species = this
            remove_trait = "trait_erudite"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_survivor"
        }
        modify_species = {
            species = this
            remove_trait = "trait_survivor"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_enigmatic_intelligence"
        }
        modify_species = {
            species = this
            remove_trait = "trait_enigmatic_intelligence"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_enigmatic_intelligence_poor"
        }
        modify_species = {
            species = this
            remove_trait = "trait_enigmatic_intelligence_poor"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_enigmatic_intelligence_failed"
        }
        modify_species = {
            species = this
            remove_trait = "trait_enigmatic_intelligence_failed"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_bioadaptability"
        }
        modify_species = {
            species = this
            remove_trait = "trait_bioadaptability"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_social_pheromones"
        }
        modify_species = {
            species = this
            remove_trait = "trait_social_pheromones"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_limited_regeneration"
        }
        modify_species = {
            species = this
            remove_trait = "trait_limited_regeneration"
        }
    }
}

# Scope: pop
pop_erode_brains = {
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_ingenious"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_ingenious"
        }
    }
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_slow_learners"
            }
        }
        if = {
            limit = {
                pop_has_trait = "trait_quick_learners"
            }
            modify_species = {
                species = this
                remove_trait = "trait_quick_learners"
            }
        }
        if = {
            limit = {
                pop_has_trait = "trait_enigmatic_intelligence"
            }
            modify_species = {
                species = this
                remove_trait = "trait_enigmatic_intelligence"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_slow_learners"
        }
    }
}

# Scope: pop
pop_provoke_deprivation = {
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_deprivated_pop"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_deprivated_pop"
        }
    }
}

# Scope: pop
pop_provoke_frustration = {
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_frustrated_pop"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_frustrated_pop"
        }
    }
}

# Scope: pop
pop_provoke_malfunction = {
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_malfunctioned_pop"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_malfunctioned_pop"
        }
    }
}

# Scope: pop
pop_provoke_marginalization = {
    if = {
        limit = {
            NOT = {
                pop_has_trait = "trait_marginalized_pop"
            }
        }
        modify_species = {
            species = this
            add_trait = "trait_marginalized_pop"
        }
    }
}

# Scope: pop
wipe_pop_deviations = {
    if = {
        limit = {
            pop_has_trait = "trait_deprivated_pop"
        }
        modify_species = {
            species = this
            remove_trait = "trait_deprivated_pop"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_frustrated_pop"
        }
        modify_species = {
            species = this
            remove_trait = "trait_frustrated_pop"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_malfunctioned_pop"
        }
        modify_species = {
            species = this
            remove_trait = "trait_malfunctioned_pop"
        }
    }
    if = {
        limit = {
            pop_has_trait = "trait_marginalized_pop"
        }
        modify_species = {
            species = this
            remove_trait = "trait_marginalized_pop"
        }
    }
}

# Scope: planet
effects_add_planet_blocker = {
    # City District blockers
    if = {
        limit = {
            num_free_districts = {
                type = district_city
                value > 2
            }
        }

        switch = {
            trigger = is_planet_class
            pc_sandsea = {
                random_list = {
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_oasis = {
                random_list = {
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_geoprairie = {
                random_list = {
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_desertislands = {
                random_list = {
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_hadesert = {
                random_list = {
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_arid = {
                random_list = {
                    20 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_desert = {
                random_list = {
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_savannah = {
                random_list = {
                    10 = {
                        add_deposit = d_isolated_wastelands
                    }
                    10 = {
                        add_deposit = d_sandy_marshes
                    }
                    10 = {
                        add_deposit = d_scorched_plains
                    }
                    10 = {
                        add_deposit = d_melted_streams
                    }
                    10 = {
                        add_deposit = d_melted_rivers
                    }
                    10 = {
                        add_deposit = d_magmatic_lakes
                    }
                    10 = {
                        add_deposit = d_magmatic_oceans
                    }
                    10 = {
                        add_deposit = d_sand_worms
                    }
                    5 = {
                        add_deposit = d_deep_sinkhole
                    }
                    5 = {
                        add_deposit = d_quicksand_basin
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    1 = {
                        add_deposit = d_sinkhole_subterraneans
                    }
                }
            }
            pc_greenlush = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_exogarden = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_xenovalley = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_floating = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_mangrove = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_bioforge = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_biolumen = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_boreal = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_irassia = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_ocean = {
                random_list = {
                    20 = {
                        add_deposit = d_electric_maelstroms
                    }
                    20 = {
                        add_deposit = d_ravenous_maelstroms
                    }
                    15 = {
                        add_deposit = d_giant_tides
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                }
            }
            pc_continental = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_isolated_wastelands
                    }
                    5 = {
                        add_deposit = d_giant_tides
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    1 = {
                        add_deposit = d_wandering_forests
                    }
                }
            }
            pc_tropical = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        add_deposit = d_toxic_kelp
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    1 = {
                        add_deposit = d_wandering_forests
                    }
                }
            }
            pc_gaia = {
                random_list = {
                    10 = {
                        add_deposit = d_impassable_woodlands
                    }
                    10 = {
                        add_deposit = d_untouched_woodlands
                    }
                    10 = {
                        add_deposit = d_impassable_marshes
                    }
                    10 = {
                        add_deposit = d_untouched_marshes
                    }
                    10 = {
                        add_deposit = d_slug_colonies
                    }
                    10 = {
                        add_deposit = d_arachnid_colonies
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_dense_jungle
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_dangerous_wildlife_blocker
                    }
                    1 = {
                        add_deposit = d_wandering_forests
                    }
                }
            }
            pc_frozen_desert = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_steppe = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_tidallylocked = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_geothermal = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_subarctic = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_glacial = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_antarctic = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_arctic = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_tundra = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_alpine = {
                random_list = {
                    10 = {
                        add_deposit = d_frozen_gas_geysers
                    }
                    10 = {
                        add_deposit = d_water_worms
                    }
                    10 = {
                        add_deposit = d_daedra_colonies
                    }
                    5 = {
                        add_deposit = d_noxious_swamp
                    }
                    5 = {
                        add_deposit = d_massive_glacier
                    }
                    3 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        # -2D
                        add_deposit = d_active_volcano
                    }
                    5 = {
                        # -2D
                        add_deposit = d_mountain_range
                    }
                }
            }
            pc_nuked = {
                random_list = {
                    10 = {
                        add_deposit = d_parasitic_bioplasm
                    }
                    5 = {
                        add_deposit = d_bomb_crater
                    }
                    5 = {
                        add_deposit = d_radioactive_wasteland
                    }
                    5 = {
                        # -2D
                        add_deposit = d_city_ruins
                    }
                }
            }
            default = {
                if = {
                    limit = {
                        can_have_habitable_deposits = yes
                    }
                    random_list = {
                        97 = {
                            add_deposit = d_crater
                        }
                        1 = {
                            add_deposit = d_infestation
                        }
                        1 = {
                            add_deposit = d_quarantine_zone
                        }
                        1 = {
                            add_deposit = d_slums
                        }
                    }
                }
            }
        }
    }
}

# Scope: planet
effects_add_planet_deposit = {
    if = {
        limit = {
            num_free_districts = {
                type = district_city
                value < 3
            }
        }
        break = yes
    }

    set_variable = {
        which = get_planet_blockers_count
        value = 0
    }

    if = {
        limit = {
            check_variable = {
                which = get_planet_industrial_complex_district_count
                value < 1
            }
        }
        set_variable = {
            which = get_planet_industrial_complex_district_count
            value = 1
        }
    }
    if = {
        limit = {
            check_variable = {
                which = get_planet_manufacturing_complex_district_count
                value < 1
            }
        }
        set_variable = {
            which = get_planet_manufacturing_complex_district_count
            value = 1
        }
    }
    if = {
        limit = {
            check_variable = {
                which = get_planet_scientific_complex_district_count
                value < 1
            }
        }
        set_variable = {
            which = get_planet_scientific_complex_district_count
            value = 1
        }
    }

    if = {
        limit = {
            is_dry = yes
        }
        random_list = {
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_caves
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_hills
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_manufacturing_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_manufacturing_complex_district_count
                        value = 1
                    }
                    # +1G
                    add_deposit = d_metallized_caves
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_plasmatic_cobblestones
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_spice_lakes
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                # +1E
                add_deposit = d_arid_highlands
            }
            3 = {
                # +2E
                add_deposit = d_searing_desert
            }
            3 = {
                # +3E
                add_deposit = d_geothermal_vent
            }
            3 = {
                # +3E
                add_deposit = d_tempestous_mountain
            }
            3 = {
                # +1M
                add_deposit = d_veiny_cliffs
            }
            3 = {
                # +1M
                add_deposit = d_mineral_fields
            }
            3 = {
                # +2M
                add_deposit = d_prosperous_mesa
            }
            3 = {
                # +3M
                add_deposit = d_rich_mountain
            }
            3 = {
                if = {
                    limit = {
                        is_planet_class = pc_arid
                    }
                    # +1F
                    add_deposit = d_bountiful_plains
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                if = {
                    limit = {
                        is_planet_class = pc_desert
                    }
                    # +1F
                    add_deposit = d_nutritious_mudland
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                # +2F
                add_deposit = d_fertile_lands
            }
            3 = {
                # +2F
                add_deposit = d_great_river
            }
            1 = {
                add_deposit = d_sr_mithril_deposit
            }
            1 = {
                add_deposit = d_sr_orihalk_deposit
            }
            1 = {
                add_deposit = d_sr_yuranic_deposit
            }
            1 = {
                add_deposit = d_sr_adamantium_deposit
            }
            1 = {
                add_deposit = d_sr_vibranium_deposit
            }
            1 = {
                add_deposit = d_sr_cobaltium_deposit
            }
            1 = {
                add_deposit = d_sr_itildeen_deposit
            }
            1 = {
                add_deposit = d_sr_satramene_deposit
            }
            1 = {
                add_deposit = d_sr_lirium_deposit
            }
            1 = {
                add_deposit = d_sr_nevarrit_deposit
            }
            1 = {
                add_deposit = d_sr_thiotimoline_deposit
            }
            1 = {
                add_deposit = d_sr_unobtanium_deposit
            }
            1 = {
                add_deposit = d_sr_stalgrim_deposit
            }
            1 = {
                add_deposit = d_sr_tiberium_deposit
            }
            1 = {
                add_deposit = d_sr_elerium_deposit
            }
            1 = {
                add_deposit = d_sr_gravitoid_deposit
            }
            1 = {
                add_deposit = d_sr_tylium_deposit
            }
            1 = {
                add_deposit = d_sr_chalcolivan_deposit
            }
            1 = {
                add_deposit = d_sr_terrigen_deposit
            }
            1 = {
                add_deposit = d_sr_corenite_deposit
            }
            1 = {
                add_deposit = d_sr_energon_deposit
            }
            1 = {
                add_deposit = d_sr_engos_deposit
            }
            1 = {
                add_deposit = d_sr_helium_deposit
            }
            1 = {
                add_deposit = d_sr_kryptonite_deposit
            }
            18 = {
                change_variable = {
                    which = get_planet_blockers_count
                    value = 1
                }
            }
        }
    }
    else_if = {
        limit = {
            OR = {
                is_wet = yes
                is_planet_class = pc_gaia
            }
        }
        random_list = {
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_plains
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        is_planet_class = pc_continental
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_hills
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_manufacturing_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_manufacturing_complex_district_count
                        value = 1
                    }
                    # +1G
                    add_deposit = d_metallized_mountains
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        is_planet_class = pc_ocean
                        check_variable = {
                            which = get_planet_manufacturing_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_manufacturing_complex_district_count
                        value = 1
                    }
                    # +1G
                    add_deposit = d_metallized_oceans
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_floating_islands
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_floating_gardens
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                # +1F
                add_deposit = d_blooming_fields
            }
            3 = {
                # +1F
                add_deposit = d_wildness_fields
            }
            3 = {
                # +1F
                add_deposit = d_underwater_oasis
            }
            3 = {
                # +2F
                add_deposit = d_shrouded_mountains
            }
            3 = {
                # +2F
                add_deposit = d_cascade_oasis
            }
            3 = {
                # +1E
                add_deposit = d_hot_springs
            }
            3 = {
                # +2E
                add_deposit = d_rushing_waterfalls
            }
            3 = {
                # +3E
                add_deposit = d_underwater_vent
            }
            3 = {
                # +3E
                add_deposit = d_tempestous_mountain
            }
            3 = {
                # +1M
                add_deposit = d_veiny_cliffs
            }
            3 = {
                # +1M
                add_deposit = d_mineral_fields
            }
            3 = {
                # +2M
                add_deposit = d_prosperous_mesa
            }
            3 = {
                # +3M
                add_deposit = d_submerged_ore_veins
            }
            3 = {
                if = {
                    limit = {
                        is_planet_class = pc_continental
                    }
                    # +1F
                    add_deposit = d_rugged_woods
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                if = {
                    limit = {
                        is_planet_class = pc_ocean
                    }
                    # +1F
                    add_deposit = d_boggy_fens
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                # +1F
                add_deposit = d_green_hills
            }
            3 = {
                # +2F
                add_deposit = d_lush_jungle
            }
            3 = {
                # +2F
                add_deposit = d_fertile_lands
            }
            3 = {
                # +3F
                add_deposit = d_black_soil
            }
            1 = {
                add_deposit = d_sr_mithril_deposit
            }
            1 = {
                add_deposit = d_sr_orihalk_deposit
            }
            1 = {
                add_deposit = d_sr_yuranic_deposit
            }
            1 = {
                add_deposit = d_sr_adamantium_deposit
            }
            1 = {
                add_deposit = d_sr_vibranium_deposit
            }
            1 = {
                add_deposit = d_sr_cobaltium_deposit
            }
            1 = {
                add_deposit = d_sr_itildeen_deposit
            }
            1 = {
                add_deposit = d_sr_satramene_deposit
            }
            1 = {
                add_deposit = d_sr_lirium_deposit
            }
            1 = {
                add_deposit = d_sr_nevarrit_deposit
            }
            1 = {
                add_deposit = d_sr_thiotimoline_deposit
            }
            1 = {
                add_deposit = d_sr_unobtanium_deposit
            }
            1 = {
                add_deposit = d_sr_stalgrim_deposit
            }
            1 = {
                add_deposit = d_sr_tiberium_deposit
            }
            1 = {
                add_deposit = d_sr_elerium_deposit
            }
            1 = {
                add_deposit = d_sr_gravitoid_deposit
            }
            1 = {
                add_deposit = d_sr_tylium_deposit
            }
            1 = {
                add_deposit = d_sr_chalcolivan_deposit
            }
            1 = {
                add_deposit = d_sr_terrigen_deposit
            }
            1 = {
                add_deposit = d_sr_corenite_deposit
            }
            1 = {
                add_deposit = d_sr_energon_deposit
            }
            1 = {
                add_deposit = d_sr_engos_deposit
            }
            1 = {
                add_deposit = d_sr_helium_deposit
            }
            1 = {
                add_deposit = d_sr_kryptonite_deposit
            }
            6 = {
                change_variable = {
                    which = get_planet_blockers_count
                    value = 1
                }
            }
        }
    }
    else_if = {
        limit = {
            is_cold = yes
        }
        random_list = {
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_mines
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_industrial_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_industrial_complex_district_count
                        value = 1
                    }
                    # +1A
                    add_deposit = d_crystallized_stratums
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_manufacturing_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_manufacturing_complex_district_count
                        value = 1
                    }
                    # +1G
                    add_deposit = d_metallized_plains
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_manufacturing_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_manufacturing_complex_district_count
                        value = 1
                    }
                    # +1G
                    add_deposit = d_metallized_mines
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_relic_ice
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            7 = {
                if = {
                    limit = {
                        check_variable = {
                            which = get_planet_scientific_complex_district_count
                            value > 0
                            value < 10
                        }
                    }
                    change_variable = {
                        which = get_planet_scientific_complex_district_count
                        value = 1
                    }
                    # +1S
                    add_deposit = d_soil_funnels
                }
                else = {
                    change_variable = {
                        which = get_planet_blockers_count
                        value = 1
                    }
                }
            }
            3 = {
                # +1E
                add_deposit = d_hot_springs
            }
            3 = {
                # +2E
                add_deposit = d_frozen_gas_lake
            }
            3 = {
                # +3E
                add_deposit = d_geothermal_vent
            }
            3 = {
                # +1M
                add_deposit = d_veiny_cliffs
            }
            3 = {
                # +2M
                add_deposit = d_ore_rich_caverns
            }
            3 = {
                # +3M
                add_deposit = d_rich_mountain
            }
            3 = {
                # +1F
                add_deposit = d_lichen_fields
            }
            3 = {
                # +1F
                add_deposit = d_forgiving_tundra
            }
            3 = {
                # +2F
                add_deposit = d_fungal_caves
            }
            1 = {
                add_deposit = d_sr_mithril_deposit
            }
            1 = {
                add_deposit = d_sr_orihalk_deposit
            }
            1 = {
                add_deposit = d_sr_yuranic_deposit
            }
            1 = {
                add_deposit = d_sr_adamantium_deposit
            }
            1 = {
                add_deposit = d_sr_vibranium_deposit
            }
            1 = {
                add_deposit = d_sr_cobaltium_deposit
            }
            1 = {
                add_deposit = d_sr_itildeen_deposit
            }
            1 = {
                add_deposit = d_sr_satramene_deposit
            }
            1 = {
                add_deposit = d_sr_lirium_deposit
            }
            1 = {
                add_deposit = d_sr_nevarrit_deposit
            }
            1 = {
                add_deposit = d_sr_thiotimoline_deposit
            }
            1 = {
                add_deposit = d_sr_unobtanium_deposit
            }
            1 = {
                add_deposit = d_sr_stalgrim_deposit
            }
            1 = {
                add_deposit = d_sr_tiberium_deposit
            }
            1 = {
                add_deposit = d_sr_elerium_deposit
            }
            1 = {
                add_deposit = d_sr_gravitoid_deposit
            }
            1 = {
                add_deposit = d_sr_tylium_deposit
            }
            1 = {
                add_deposit = d_sr_chalcolivan_deposit
            }
            1 = {
                add_deposit = d_sr_terrigen_deposit
            }
            1 = {
                add_deposit = d_sr_corenite_deposit
            }
            1 = {
                add_deposit = d_sr_energon_deposit
            }
            1 = {
                add_deposit = d_sr_engos_deposit
            }
            1 = {
                add_deposit = d_sr_helium_deposit
            }
            1 = {
                add_deposit = d_sr_kryptonite_deposit
            }
            21 = {
                change_variable = {
                    which = get_planet_blockers_count
                    value = 1
                }
            }
        }
    }
    else = {
        change_variable = {
            which = get_planet_blockers_count
            value = 1
        }
    }

    while = {
        limit = {
            check_variable = {
                which = get_planet_blockers_count
                value > 0
            }
        }

        effects_add_planet_blocker = yes

        change_variable = {
            which = get_planet_blockers_count
            value = -1
        }
    }
}

effects_set_planet_size_25 = {
    set_planet_size = 15
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 10

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}

effects_set_planet_size_30 = {
    set_planet_size = 20
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 10

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}

effects_set_planet_size_35 = {
    set_planet_size = 25
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 10

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}

effects_set_planet_size_40 = {
    set_planet_size = 25
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 15

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}

effects_set_planet_size_45 = {
    set_planet_size = 25
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 20

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}

effects_set_planet_size_50 = {
    set_planet_size = 25
    reroll_planet = yes

    set_variable = {
        which = get_planet_industrial_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_manufacturing_complex_district_count
        value = 0
    }
    set_variable = {
        which = get_planet_scientific_complex_district_count
        value = 0
    }

    while = {
        count = 25

        change_planet_size = 1
        effects_add_planet_deposit = yes
    }

    validate_planet_buildings_and_districts = yes
}