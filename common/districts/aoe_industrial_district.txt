district_industrial_complex = {
    base_buildtime = 900
    icon = "district_industrial_complex"

    min_for_deposits_on_planet = 1
    max_for_deposits_on_planet = 10

    show_on_uncolonized = {
        OR = {
            can_have_habitable_deposits = yes
            can_have_extraterrestrial_deposits = yes
        }
        has_industrial_deposits = yes
    }

    potential = {
        OR = {
            can_have_habitable_deposits = yes
            can_have_extraterrestrial_deposits = yes
        }
        has_industrial_deposits = yes
    }

    allow = {
        is_sovereign_colony = yes
    }

    conversion_ratio = 1
    convert_to = {
        "district_industrial_complex_uncapped"
    }

    resources = {
        category = planet_districts
        cost = {
            energy = 3000
            minerals = 1500
            itildeen = 500
        }
        upkeep = {
            energy = 5
            itildeen = 2
        }
    }

    planet_modifier = {
        planet_housing_add = 2
        planet_crime_add = 4
    }

    # Adding jobs

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_gestalt = no
                is_fallen_empire = no
            }
        }
        modifier = {
            job_industrial_complex_engineer_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_gestalt = no
                is_fallen_empire = no
            }
        }
        text = "job_industrial_complex_engineer_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_gestalt = yes
            }
        }
        modifier = {
            job_industrial_complex_drone_engineer_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_gestalt = yes
            }
        }
        text = "job_industrial_complex_drone_engineer_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_machine_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_calculator_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_machine_empire = yes
            }
        }
        text = "job_industrial_complex_calculator_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_hive_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_brain_drone_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_hive_empire = yes
            }
        }
        text = "job_industrial_complex_brain_drone_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_fallen_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_fe_ai_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_fallen_empire = yes
            }
        }
        text = "job_industrial_complex_fe_ai_effect_desc"
    }

    # Adding modifiers

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_1"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.01
            planet_jobs_alloys_produces_mult = 0.01
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_2"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.02
            planet_jobs_alloys_produces_mult = 0.02
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_3"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.03
            planet_jobs_alloys_produces_mult = 0.03
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_4"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.04
            planet_jobs_alloys_produces_mult = 0.04
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_5"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.05
            planet_jobs_alloys_produces_mult = 0.05
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_6"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.06
            planet_jobs_alloys_produces_mult = 0.06
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_7"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.07
            planet_jobs_alloys_produces_mult = 0.07
        }
    }

    ai_weight = {
        weight = 1

        modifier = {
            factor = 3
            owner = {
                has_monthly_income = {
                    resource = alloys
                    value < 0
                }
            }
        }
        modifier = {
            factor = 2
            any_owned_pop = {
                is_unemployed = yes
            }
        }
        modifier = {
            factor = 0
            free_housing > 0
            NOT = {
                any_owned_pop = {
                    is_unemployed = yes
                }
            }
        }
        modifier = {
            factor = 0
            owner = {
                has_monthly_income = {
                    resource = energy
                    value < 6
                }
            }
        }
        modifier = {
            factor = 0
            owner = {
                has_monthly_income = {
                    resource = itildeen
                    value < 3
                }
            }
        }
    }

    prerequisites = {
        "tech_industrial_district"
    }
}

district_industrial_complex_uncapped = {
    base_buildtime = 900
    icon = "district_industrial_complex_uncapped"
    is_capped_by_modifier = no

    min_for_deposits_on_planet = 1
    max_for_deposits_on_planet = 6

    show_on_uncolonized = {
        have_not_habitable_deposits = yes
    }

    potential = {
        have_not_habitable_deposits = yes
    }

    allow = {
        is_sovereign_colony = yes
    }

    conversion_ratio = 1
    convert_to = {
        "district_industrial_complex"
    }

    resources = {
        category = planet_districts
        cost = {
            energy = 3000
            minerals = 1500
            itildeen = 500
        }
        upkeep = {
            energy = 5
            itildeen = 2
        }
    }

    planet_modifier = {
        planet_housing_add = 2
        planet_crime_no_happiness_add = 2
    }

    # Adding jobs

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_gestalt = no
                is_fallen_empire = no
            }
        }
        modifier = {
            job_industrial_complex_engineer_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_gestalt = no
                is_fallen_empire = no
            }
        }
        text = "job_industrial_complex_engineer_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_gestalt = yes
            }
        }
        modifier = {
            job_industrial_complex_drone_engineer_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_gestalt = yes
            }
        }
        text = "job_industrial_complex_drone_engineer_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_machine_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_calculator_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_machine_empire = yes
            }
        }
        text = "job_industrial_complex_calculator_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_hive_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_brain_drone_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_hive_empire = yes
            }
        }
        text = "job_industrial_complex_brain_drone_effect_desc"
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                is_fallen_empire = yes
            }
        }
        modifier = {
            job_industrial_complex_fe_ai_add = 2
        }
    }

    triggered_desc = {
        trigger = {
            exists = owner
            owner = {
                is_fallen_empire = yes
            }
        }
        text = "job_industrial_complex_fe_ai_effect_desc"
    }

    # Adding modifiers

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_1"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.01
            planet_jobs_alloys_produces_mult = 0.01
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_2"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.02
            planet_jobs_alloys_produces_mult = 0.02
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_3"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.03
            planet_jobs_alloys_produces_mult = 0.03
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_4"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.04
            planet_jobs_alloys_produces_mult = 0.04
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_5"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.05
            planet_jobs_alloys_produces_mult = 0.05
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_6"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.06
            planet_jobs_alloys_produces_mult = 0.06
        }
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_technology = "tech_industrial_complex_7"
            }
        }
        modifier = {
            planet_metallurgists_produces_mult = 0.07
            planet_jobs_alloys_produces_mult = 0.07
        }
    }

    ai_weight = {
        weight = 1

        modifier = {
            factor = 3
            owner = {
                has_monthly_income = {
                    resource = alloys
                    value < 0
                }
            }
        }
        modifier = {
            factor = 2
            any_owned_pop = {
                is_unemployed = yes
            }
        }
        modifier = {
            factor = 0
            free_housing > 0
            NOT = {
                any_owned_pop = {
                    is_unemployed = yes
                }
            }
        }
        modifier = {
            factor = 0
            owner = {
                has_monthly_income = {
                    resource = energy
                    value < 6
                }
            }
        }
        modifier = {
            factor = 0
            owner = {
                has_monthly_income = {
                    resource = itildeen
                    value < 3
                }
            }
        }
    }

    prerequisites = {
        "tech_industrial_district"
    }
}